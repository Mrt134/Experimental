

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FreeBSD 11 and 12 &mdash; bsdcan notes 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="bsdcan notes 1.0 documentation" href="index.html"/>
        <link rel="next" title="What can you do" href="foundationcoreqa.html"/>
        <link rel="prev" title="BSDCAN Documentation Developers’ Summit (1300 Wed Jun 8)" href="docdevsummit.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> bsdcan notes
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mcsftazure.html">Microsoft Azure Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="intelquickassist.html">Intel QuickAssist (Devsummit session 2 1106am) by Fiona Trahe</a></li>
<li class="toctree-l1"><a class="reference internal" href="docdevsummit.html">BSDCAN Documentation Developers&#8217; Summit (1300 Wed Jun 8)</a></li>
<li class="toctree-l1"><a class="reference internal" href="docdevsummit.html#session-one">Session One</a></li>
<li class="toctree-l1"><a class="reference internal" href="docdevsummit.html#session-2">Session 2</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FreeBSD 11 and 12</a></li>
<li class="toctree-l1"><a class="reference internal" href="#freebsd-12-goals">FreeBSD 12 Goals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#internet-supplied-ideas">Internet supplied ideas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#haves-for-freebsd-12">Haves for FreeBSD 12</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wants-for-freebsd-12">Wants for FreeBSD 12</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="foundationcoreqa.html">What can you do</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">bsdcan notes</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>FreeBSD 11 and 12</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/freebsd1112.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="freebsd-11-and-12">
<span id="freebsd11"></span><h1>FreeBSD 11 and 12<a class="headerlink" href="#freebsd-11-and-12" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>PCIe HotPlug</li>
<li>iwm(4)</li>
<li>Updated KMS</li>
<li>Linux64 (also in 10.3)</li>
<li>RISC-V</li>
<li>Clang/LLDB/libc++ update to 3.8</li>
<li>iSER/ cxbei</li>
<li>EFI, ZFS, GELI boot</li>
<li>AIO network (zerocopy TCP on cxgbe)</li>
<li>Debug symbols</li>
<li>sendfile() rewrite</li>
<li>reroot</li>
<li>FAST_DEPEND</li>
<li>truss refacoring</li>
<li>ioat(4) / ntb(4)</li>
<li>arm64</li>
<li>devctl (also in 10.3</li>
<li>vt(4) as default</li>
<li>Coorectly enumerate primes between 4295098369 and 3825123056546413050</li>
<li>zfsd</li>
<li>sesutil / mpsutil (10.3)</li>
<li>Dumps to AF-4Kn</li>
<li>CAM I/O scheduler</li>
<li>getppid() doesn&#8217;t report debugger</li>
<li>autofs (10.1) (backported into 10)</li>
<li>CAM devd events</li>
<li>ypldap (LDAP inside NIS)</li>
<li>Locale rework</li>
<li>PQ_LAUNDRY</li>
</ul>
<p>The list is very incomplete. Additional contributions:</p>
<ul class="simple">
<li>Blacklistd</li>
<li>transport TCP is now pluggable</li>
<li>Coverity fixes</li>
<li>Test suite updates</li>
<li>Casper (casperd -&gt; libcasper migration)</li>
<li>libnv</li>
<li>SR-I0V</li>
<li>ixl</li>
<li>mlx5</li>
<li>iflib</li>
<li>byhyve UEFI + G0P</li>
<li>Linux KPI</li>
<li>libcuse (userspace character devices)</li>
<li>RSS Updates</li>
<li>Jails IPC</li>
<li>RCTL disk limiting</li>
<li>Hard Float ABI for ARM</li>
<li>pthread robust mutexes</li>
<li>pthread process shared mutexes</li>
<li>NPT + NAT64 in IPFW</li>
<li>SMR support</li>
<li>rman resource size upgrade (better PAE resource handling)</li>
<li>Native ifnet on WLAN</li>
<li>mandoc</li>
<li>802.11 cleanup</li>
<li>kernel modules tagged with PNPinfo</li>
<li>DTrace updates</li>
<li>Newer powerpc core support (PMC on this)</li>
<li>utrace in truss</li>
<li>x2APIC, interrupts remapping on x86, potential support for &gt; 254 CPUs</li>
<li>OOM rework</li>
<li>more fine grained locking for AMD64 pmap</li>
<li>PCID on AMD64 rewritten and enabled by default</li>
<li>packaging base</li>
<li>ARMv6 + ARM64 Packages</li>
<li>100G I/O Scaling</li>
<li>More NUMA</li>
<li>compressed disk improvements</li>
<li>LRO improvements</li>
<li>Timer fixes</li>
<li>Async Drain</li>
<li>NTP updates</li>
<li>PPS fixes</li>
<li>fewer GPL</li>
<li>ELF toolchain bits</li>
<li>xToolchain support</li>
<li>Allwinner CPU/SoC support</li>
<li>INTRng</li>
<li>VIMAGE fixes</li>
<li>Clock framework</li>
<li>more fine grained locking for AMD64 pmap</li>
<li>PCID on AMD64 rewritten and enabled by default (&#8220;PCID works&#8221;)</li>
<li>Fortuna PRNG</li>
<li>Hyper-V</li>
<li>Xen DOM0</li>
<li>SIFTR/TCP Debug reimplemented in DTrace</li>
<li>DTrace MBUF provider</li>
<li>IPSEC on by default</li>
<li>NETMAP on by default</li>
<li>Additional IPFilter DTrace probes</li>
<li>ARM superpages</li>
<li>Make Analyze (Clang static analyzer) (only userland for now)</li>
<li>Clang profiling / Compiler RT</li>
<li>DragonFly Mail Agent (DMA)</li>
<li>TCP debug packet cache</li>
<li>Reduced library overlinking in the base system</li>
<li>Improved ACPI C-states support</li>
<li>review of atomics(9) use, manpage updates</li>
<li>ZFS resumable send</li>
<li>ZFS TRIM</li>
<li>ZFS hashes (SHA512, Skein)</li>
<li>CTL Improvements (CTL HA)</li>
<li>Killed IA64</li>
<li>Killed ReiserFS</li>
<li>Installworld errors on newer source files</li>
<li>review of atomics(9) use, manpage updates</li>
</ul>
<p><strong>Still Needed in 11</strong></p>
<p>arm64 installer - Doesn&#8217;t know how to use EFI etc. in the partition editor.</p>
</div>
<div class="section" id="freebsd-12-goals">
<span id="freebsd12"></span><h1>FreeBSD 12 Goals<a class="headerlink" href="#freebsd-12-goals" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>GPL Free in 12.0</li>
<li>Kill GCC 4.2.1</li>
<li>kill binutils</li>
<li>init replacement</li>
<li>rc.d replacement</li>
<li>service management framework</li>
<li>machine readable tooling (libxo output, libucl input)</li>
<li>CPU scaling<ul>
<li>NUMA</li>
<li>More CPUS</li>
</ul>
</li>
<li>libnv interchange</li>
<li>libucl for more config files (newsyslog.conf, login.conf, etc) &lt;&#8212; standard configuration format across the OS? - - Yes. Human and Machine editable</li>
<li>login cap database lookup improvements</li>
<li>Improvements to libc .db support</li>
<li>librification (libifconfig <a class="reference external" href="https://github.com/Savagedlight/libifconfig">https://github.com/Savagedlight/libifconfig</a>)</li>
<li>64bit inodes (max mount path len)</li>
<li>X32, i386 T64 (32bit time_t)</li>
<li>Power Management</li>
<li>Tamper resistent boot</li>
<li>Suspend to disk</li>
<li>SDIO (SD interface for wi-fi, bluetooth</li>
<li>Structured syslog</li>
<li>UEFI boot manager (EFI variables, runtime services)</li>
<li>64 bit timet on PPC</li>
<li>ntimed (replace NTPd)</li>
<li><strong>Kill Giant</strong></li>
<li>RNG improvements</li>
<li>Watchdog improvements</li>
<li>3d Crosspoint, NVDIMM, etc.</li>
<li>persistent memory file system</li>
<li>framework for a log of errors/ Fault manager</li>
<li>Cross build support (linux/mac clusters)</li>
<li>Portable libKDM</li>
<li>Generic ARMv7 kernel</li>
<li>Tier 1 status for arm 32/64 (v6)</li>
<li>VOP dealloc</li>
<li>Sparse file support (Sparcification, hole punching)</li>
</ul>
<p>newbus fine-grained locking
PQ_LAUNDRY (11.1 :)
vm_page_free_queue_mtx problem
libthr2 (inlined pthread locks)
ASLR and other hardening implementations nonsense
ifunc-like MD hooks, refreshed after CPU firmware update
pre-boot CPU firmware update</p>
<p>Virtual memory compression - &#8220;ZRAM&#8221;
User-configurable (run-time) USB or other quirks
Pluggable schedulers
Byte Queue Limits (BQL) for NIC TX paths
Replace OpenSSL with LibreSSL</p>
<div class="section" id="internet-supplied-ideas">
<h2>Internet supplied ideas<a class="headerlink" href="#internet-supplied-ideas" title="Permalink to this headline">¶</a></h2>
<p>via twitter &#64;jmcwhatever)</p>
<blockquote>
<div>Support for SDIO wireless devices found on many ARM boards
Faster transfer modes for SD cards (UHS-I) and eMMC (HS200/HS400)
64-bit Allwinner support
SDHCI scatter-gather DMA (ADMA2)
Multi cluster support on armv6</div></blockquote>
<p>Latest PF from OpenBSD - (via twitter &#64;pauldokas)</p>
<p>via twitter &#64;FUNTOWNE</p>
<blockquote>
<div>AC Wireless support - Edit: binary blobs are OK in the nearterm
ext4 write support with journaling. Help with migrations :)</div></blockquote>
<p>via twitter &#64;bsdlme</p>
<blockquote>
<div>Replace ntpd and sendmail</div></blockquote>
<p>More blackboards
libucl for more config files (newsyslog.conf, login.conf, etc) &lt;&#8212; standard configuration format across the OS? Yes. Human and Machine editable
login cap database lookup improvements
Improvements to libc .db support
More gig</p>
</div>
<div class="section" id="haves-for-freebsd-12">
<h2>Haves for FreeBSD 12<a class="headerlink" href="#haves-for-freebsd-12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>rc.d replacement (initially built on launchd)</li>
<li>TLS sendfile [rrs]</li>
<li>network.subr v6 dhclient enhancements</li>
<li>libunwind (from llvm instead of pcc) [emaste]</li>
<li>ZFS compressed ARC [gwilson]</li>
<li>ZFS encryption [openzfs]</li>
<li>ZFS device removal [mahrens]</li>
<li>ino64 compat [benno]</li>
<li>registration of cryptographic ciphers dynamically (opencrypto) [dwm]</li>
<li>dtrace CPC [gavide]</li>
<li>Energy aware scheduler [avm]</li>
<li>Kernel debugging and testing framework (ddb shell) [tt]</li>
<li>SMT disable tunable (boot loader)</li>
<li>IPV6 improvements to bsnmpd [ngie]</li>
<li>bsnmp trap fixes [ngie]</li>
<li>intel DRM (video) 4.6 drivers [scottl]</li>
<li>Kernel core file performance improvements [wca]</li>
<li>TCP/UDP per-socket rate limit support</li>
<li>Virtualization PV PCI Interrupts</li>
<li>LIT compiter for bpf on armv7</li>
<li>encrypted kernel crash dumps</li>
</ul>
</div>
<div class="section" id="wants-for-freebsd-12">
<h2>Wants for FreeBSD 12<a class="headerlink" href="#wants-for-freebsd-12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>SG X (intel provided security solution)</li>
<li>Host aware SMR file system</li>
<li>One true viable laptop</li>
<li>Open Stack</li>
<li>CEPH</li>
<li>MDB features</li>
<li>nand device support</li>
<li>nandfs</li>
<li>stem cell images (the ability to have a freebsd image that doesn&#8217;t have a base installer) (Sean Chitenden with Hashcorp)</li>
<li>DHCP v6 client in base</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="foundationcoreqa.html" class="btn btn-neutral float-right" title="What can you do" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="docdevsummit.html" class="btn btn-neutral" title="BSDCAN Documentation Developers’ Summit (1300 Wed Jun 8)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Tim Moore.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>